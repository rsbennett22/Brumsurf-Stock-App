<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brumsurf Stock App</title>
</head>
<body onload="updateSizeOptions()">
    <h1>Add New Wetsuit</h1>
    <button onclick="location.href='/'">Home</button>
    <br>
    <br>
    <form id="wetsuitForm" action="{% url 'addNewWetsuit' %}" method="POST">
        {% csrf_token %}
        Brand: <select id="brand" name="brand" required>
            <option value="oneil">Oneil</option>
            <option value="tiki">Tiki</option>
            <option value="twobarefeet">Two Bare Feet</option>
            <option value="needessentials">NeedEssentials</option>
        </select>
        <br>
        Gender: <select onchange="updateSizeOptions()" id="gender" name="gender" required>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>
        <br>
        Size: <select id="size" name="size" required></select>
        <br>
        Number: <input type="number" id="num" name="num" min="1" required>
        <br>
        <input type="submit" value="Submit">
    </form>
    <script>
        function updateSizeOptions() {
            const sizesMale = ['small', 'medium', 'medium-tall', 'large', 'x-large'];
            const sizesFemale = ['4', '6', '8', '10', '12', '14', '16'];
            //get the gender select field's selected value
            var genderField = document.getElementById('gender');
            var sizeField = document.getElementById('size');
            var gender = genderField.value;
            console.log(gender)
            var optionsTotal = sizeField.length;
            //check if any options present
            if(optionsTotal!=0) {
                //remove options present
                for(i=0; i<=optionsTotal-1; i++) {
                    //remove option 0 from select field
                    sizeField.remove(0);
                }
            }
            //check what gender is selected
            if(gender=='male') {
                //add options for male sizes
                for(i=0; i<=sizesMale.length-1; i++) {
                    var newOption = document.createElement('option');
                    newOption.value = sizesMale[i];
                    newOption.innerHTML = sizesMale[i];
                    sizeField.appendChild(newOption)
                }
            }
            else {
                //add options for female sizes
                for(i=0; i<=sizesFemale.length-1; i++) {
                    var newOption = document.createElement('option');
                    newOption.value = sizesFemale[i];
                    newOption.innerHTML = sizesFemale[i];
                    sizeField.appendChild(newOption)
                }
            }
        }
    </script>
</body>
</html>